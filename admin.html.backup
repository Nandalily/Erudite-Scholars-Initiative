<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESI Admin Dashboard - Erudite Scholars Initiative</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>ESI Admin</h2>
                <span class="logo-subtitle">Erudite Scholars Initiative</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">Back to Site</a>
                </li>
                <li class="nav-item">
                    <a href="#dashboard" class="nav-link">Dashboard</a>
                </li>
                <li class="nav-item">
                    <a href="#registrations" class="nav-link">Registrations</a>
                </li>
                <li class="nav-item">
                    <a href="#messages" class="nav-link">Messages</a>
                </li>
                <li class="nav-item">
                    <a href="#competitions" class="nav-link">Competitions</a>
                </li>
                <li class="nav-item">
                    <a href="#gallery-management" class="nav-link">Gallery</a>
                </li>
                <li class="nav-item">
                    <a href="#analytics" class="nav-link">Analytics</a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link logout-link" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Dashboard Section -->
    <section id="dashboard" class="dashboard">
        <div class="container">
            <div class="dashboard-header">
                <h2>ESI Admin Dashboard</h2>
                <p>Welcome back, <span id="adminUsername">Admin</span>! Here's an overview of your event.</p>
            </div>
            
            <div class="dashboard-stats">
                <div class="stat-card">
                    <i class="fas fa-users"></i>
                    <h3 id="totalRegistrations">0</h3>
                    <p>Total Registrations</p>
                    <div class="stat-detail">
                        <span id="debateRegistrations">0</span> Debate | 
                        <span id="poetryRegistrations">0</span> Poetry | 
                        <span id="speechRegistrations">0</span> Speech
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-envelope"></i>
                    <h3 id="totalMessages">0</h3>
                    <p>New Messages</p>
                    <div class="stat-detail">
                        <span id="unreadMessages">0</span> Unread
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-school"></i>
                    <h3 id="totalSchools">0</h3>
                    <p>Participating Schools</p>
                    <div class="stat-detail">
                        <span id="publicSchools">0</span> Public | 
                        <span id="privateSchools">0</span> Private
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-calendar-check"></i>
                    <h3 id="daysUntilEvent">0</h3>
                    <p>Days Until Event</p>
                    <div class="stat-detail">
                        <span id="eventDate">September 21, 2025</span>
                    </div>
                </div>
            </div>

            <div class="dashboard-quick-actions">
                <h3>Quick Actions</h3>
                <div class="quick-actions-grid">
                    <button class="quick-action-btn" onclick="exportRegistrations()">
                        <i class="fas fa-download"></i>
                        Export Registrations
                    </button>
                    <button class="quick-action-btn" onclick="sendBulkEmail()">
                        <i class="fas fa-envelope-open-text"></i>
                        Send Bulk Email
                    </button>
                    <button class="quick-action-btn" onclick="generateReport()">
                        <i class="fas fa-chart-bar"></i>
                        Generate Report
                    </button>
                    <button class="quick-action-btn" onclick="manageEvent()">
                        <i class="fas fa-cog"></i>
                        Event Settings
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Registrations Management Section -->
    <section id="registrations" class="registrations-management">
        <div class="container">
            <h2>Manage Registrations</h2>
            
            <div class="registrations-filters">
                <div class="filter-group">
                    <label for="categoryFilter">Filter by Category:</label>
                    <select id="categoryFilter" onchange="filterRegistrations()">
                        <option value="">All Categories</option>
                        <option value="debate">Debate</option>
                        <option value="poetry">Poetry</option>
                        <option value="public-speech">Public Speech</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="schoolFilter">Filter by School:</label>
                    <select id="schoolFilter" onchange="filterRegistrations()">
                        <option value="">All Schools</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="statusFilter">Filter by Status:</label>
                    <select id="statusFilter" onchange="filterRegistrations()">
                        <option value="">All Status</option>
                        <option value="pending">Pending</option>
                        <option value="approved">Approved</option>
                        <option value="rejected">Rejected</option>
                    </select>
                </div>
                <div class="search-group">
                    <input type="text" id="searchRegistrations" placeholder="Search registrations..." onkeyup="searchRegistrations()">
                    <i class="fas fa-search"></i>
                </div>
            </div>

            <div class="registrations-table-container">
                <table class="registrations-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Participant</th>
                            <th>School</th>
                            <th>Category</th>
                            <th>Email</th>
                            <th>Status</th>
                            <th>Registration Date</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="registrationsTableBody">
                        <!-- Registrations will be loaded here -->
                    </tbody>
                </table>
            </div>

            <div class="registrations-pagination">
                <button id="prevPage" onclick="changePage(-1)">Previous</button>
                <span id="pageInfo">Page 1 of 1</span>
                <button id="nextPage" onclick="changePage(1)">Next</button>
            </div>
        </div>
    </section>

    <!-- Messages Section -->
    <section id="messages" class="messages-section">
        <div class="container">
            <h2>Contact Messages</h2>
            
            <div class="messages-filters">
                <div class="filter-group">
                    <label for="messageStatusFilter">Filter by Status:</label>
                    <select id="messageStatusFilter" onchange="filterMessages()">
                        <option value="">All Messages</option>
                        <option value="unread">Unread</option>
                        <option value="read">Read</option>
                        <option value="replied">Replied</option>
                    </select>
                </div>
                <div class="search-group">
                    <input type="text" id="searchMessages" placeholder="Search messages..." onkeyup="searchMessages()">
                    <i class="fas fa-search"></i>
                </div>
            </div>

            <div id="messagesList" class="messages-list">
                <!-- Messages will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Competitions Management Section -->
    <section id="competitions" class="competitions-management">
        <div class="container">
            <h2>Manage Competitions</h2>
            
            <div class="add-competition">
                <h3>Add New Competition</h3>
                <form id="addCompetitionForm" class="admin-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="compTitle">Title *</label>
                            <input type="text" id="compTitle" name="title" required>
                        </div>
                        <div class="form-group">
                            <label for="compCategory">Category *</label>
                            <select id="compCategory" name="category" required>
                                <option value="">Select Category</option>
                                <option value="debate">Debate</option>
                                <option value="poetry">Poetry</option>
                                <option value="public-speech">Public Speech</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="compDeadline">Deadline *</label>
                            <input type="date" id="compDeadline" name="deadline" required>
                        </div>
                        <div class="form-group">
                            <label for="compMaxParticipants">Max Participants</label>
                            <input type="number" id="compMaxParticipants" name="maxParticipants" min="1">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="compDescription">Description *</label>
                        <textarea id="compDescription" name="description" rows="4" required></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="compPrize">Prize</label>
                            <input type="text" id="compPrize" name="prize" placeholder="e.g., $500 + Trophy">
                        </div>
                        <div class="form-group">
                            <label for="compStatus">Status</label>
                            <select id="compStatus" name="status">
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                                <option value="registration-closed">Registration Closed</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="compImage">Competition Image</label>
                            <input type="file" id="compImage" name="image" accept="image/*" class="file-input">
                            <div class="file-input-info">
                                <small>Upload an image for the competition (JPG, PNG, GIF - Max 5MB)</small>
                            </div>
                            <div id="imagePreview" class="image-preview" style="display: none;">
                                <img id="previewImg" src="" alt="Image preview">
                                <button type="button" class="remove-image-btn" onclick="removeImage()">
                                    <i class="fas fa-times"></i> Remove
                                </button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="compFile">Competition File</label>
                            <input type="file" id="compFile" name="file" accept=".pdf,.doc,.docx,.txt,.zip,.rar" class="file-input">
                            <div class="file-input-info">
                                <small>Upload a file (PDF, DOC, DOCX, TXT, ZIP, RAR - Max 10MB)</small>
                            </div>
                            <div id="filePreview" class="file-preview" style="display: none;">
                                <div class="file-info">
                                    <i class="fas fa-file"></i>
                                    <span id="fileName"></span>
                                    <button type="button" class="remove-file-btn" onclick="removeFile()">
                                        <i class="fas fa-times"></i> Remove
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="submit-btn">Add Competition</button>
                </form>
            </div>

            <div class="competitions-list">
                <h3>Current Competitions</h3>
                <div id="adminCompetitionsList">
                    <!-- Competitions will be loaded here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Management Section -->
    <section id="gallery-management" class="gallery-management">
        <div class="container">
            <h2>Gallery Management</h2>
            
            <div class="gallery-management-tabs">
                <button class="gallery-tab-btn active" data-gallery-tab="photos">Photos</button>
                <button class="gallery-tab-btn" data-gallery-tab="videos">Videos</button>
                <button class="gallery-tab-btn" data-gallery-tab="press">Press Coverage</button>
            </div>
            
            <!-- Photos Management -->
            <div class="gallery-tab-content active" id="photos-management">
                <div class="add-gallery-item">
                    <h3>Add New Photo</h3>
                    <form id="addPhotoForm" class="admin-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="photoTitle">Photo Title *</label>
                                <input type="text" id="photoTitle" name="title" required>
                            </div>
                            <div class="form-group">
                                <label for="photoCategory">Category</label>
                                <select id="photoCategory" name="category">
                                    <option value="winners">Past Competition Winners</option>
                                    <option value="highlights">Event Highlights</option>
                                    <option value="outreach">Outreach Programs</option>
                                    <option value="community">Community Engagement</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="photoDescription">Description</label>
                            <textarea id="photoDescription" name="description" rows="3" placeholder="Brief description of the photo"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="photoImage">Photo File *</label>
                            <input type="file" id="photoImage" name="image" accept="image/*" class="file-input" required>
                            <div class="file-input-info">
                                <small>Upload a photo (JPG, PNG, GIF - Max 5MB)</small>
                            </div>
                            <div id="photoPreview" class="image-preview" style="display: none;">
                                <img id="previewPhotoImg" src="" alt="Photo preview">
                                <button type="button" class="remove-image-btn" onclick="removePhotoPreview()">
                                    <i class="fas fa-times"></i> Remove
                                </button>
                            </div>
                        </div>
                        <button type="submit" class="submit-btn">Add Photo</button>
                    </form>
                </div>
                
                <div class="gallery-items-list">
                    <h3>Current Photos</h3>
                    <div id="photosList" class="gallery-items-grid">
                        <!-- Photos will be loaded here -->
                    </div>
                </div>
            </div>
            
            <!-- Videos Management -->
            <div class="gallery-tab-content" id="videos-management">
                <div class="add-gallery-item">
                    <h3>Add New Video</h3>
                    <form id="addVideoForm" class="admin-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="videoTitle">Video Title *</label>
                                <input type="text" id="videoTitle" name="title" required>
                            </div>
                            <div class="form-group">
                                <label for="videoCategory">Category</label>
                                <select id="videoCategory" name="category">
                                    <option value="highlights">Competition Highlights</option>
                                    <option value="testimonials">Student Testimonials</option>
                                    <option value="events">Event Recordings</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="videoDescription">Description</label>
                            <textarea id="videoDescription" name="description" rows="3" placeholder="Brief description of the video"></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="videoFile">Video File *</label>
                                <input type="file" id="videoFile" name="video" accept="video/*" class="file-input" required>
                                <div class="file-input-info">
                                    <small>Upload a video (MP4, AVI, MOV - Max 50MB)</small>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="videoThumbnail">Thumbnail Image</label>
                                <input type="file" id="videoThumbnail" name="thumbnail" accept="image/*" class="file-input">
                                <div class="file-input-info">
                                    <small>Upload a thumbnail (JPG, PNG - Max 2MB)</small>
                                </div>
                                <div id="thumbnailPreview" class="image-preview" style="display: none;">
                                    <img id="previewThumbnailImg" src="" alt="Thumbnail preview">
                                    <button type="button" class="remove-image-btn" onclick="removeThumbnailPreview()">
                                        <i class="fas fa-times"></i> Remove
                                    </button>
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="submit-btn">Add Video</button>
                    </form>
                </div>
                
                <div class="gallery-items-list">
                    <h3>Current Videos</h3>
                    <div id="videosList" class="gallery-items-grid">
                        <!-- Videos will be loaded here -->
                    </div>
                </div>
            </div>
            
            <!-- Press Coverage Management -->
            <div class="gallery-tab-content" id="press-management">
                <div class="add-gallery-item">
                    <h3>Add New Press Coverage</h3>
                    <form id="addPressForm" class="admin-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="pressTitle">Press Title *</label>
                                <input type="text" id="pressTitle" name="title" required>
                            </div>
                            <div class="form-group">
                                <label for="pressType">Media Type</label>
                                <select id="pressType" name="type">
                                    <option value="newspaper">Newspaper</option>
                                    <option value="radio">Radio</option>
                                    <option value="tv">Television</option>
                                    <option value="online">Online Media</option>
                                    <option value="magazine">Magazine</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="pressDescription">Description</label>
                            <textarea id="pressDescription" name="description" rows="3" placeholder="Brief description of the press coverage"></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="pressDate">Publication Date</label>
                                <input type="date" id="pressDate" name="date">
                            </div>
                            <div class="form-group">
                                <label for="pressLink">Media Link</label>
                                <input type="url" id="pressLink" name="link" placeholder="https://...">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="pressImage">Cover Image</label>
                            <input type="file" id="pressImage" name="image" accept="image/*" class="file-input">
                            <div class="file-input-info">
                                <small>Upload a cover image (JPG, PNG - Max 3MB)</small>
                            </div>
                            <div id="pressImagePreview" class="image-preview" style="display: none;">
                                <img id="previewPressImg" src="" alt="Press image preview">
                                <button type="button" class="remove-image-btn" onclick="removePressImagePreview()">
                                    <i class="fas fa-times"></i> Remove
                                </button>
                                </div>
                        </div>
                        <button type="submit" class="submit-btn">Add Press Coverage</button>
                    </form>
                </div>
                
                <div class="gallery-items-list">
                    <h3>Current Press Coverage</h3>
                    <div id="pressList" class="gallery-items-grid">
                        <!-- Press coverage will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Analytics Section -->
    <section id="analytics" class="analytics-section">
        <div class="container">
            <h2>Event Analytics</h2>
            
            <div class="analytics-grid">
                <div class="analytics-card">
                    <h3>Registration Trends</h3>
                    <div class="chart-container">
                        <canvas id="registrationChart"></canvas>
                    </div>
                </div>
                
                <div class="analytics-card">
                    <h3>Category Distribution</h3>
                    <div class="chart-container">
                        <canvas id="categoryChart"></canvas>
                    </div>
                </div>
                
                <div class="analytics-card">
                    <h3>School Participation</h3>
                    <div class="chart-container">
                        <canvas id="schoolChart"></canvas>
                    </div>
                </div>
                
                <div class="analytics-card">
                    <h3>Geographic Distribution</h3>
                    <div class="chart-container">
                        <canvas id="geoChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Erudite Scholars Initiative Admin. All rights reserved.</p>
        </div>
    </footer>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <h3>Confirm Delete</h3>
            <p id="deleteModalMessage">Are you sure you want to delete this item?</p>
            <div class="modal-buttons">
                <button id="confirmDelete" class="btn-danger">Delete</button>
                <button id="cancelDelete" class="btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Registration Detail Modal -->
    <div id="registrationModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>Registration Details</h3>
            <div id="registrationDetails">
                <!-- Registration details will be loaded here -->
            </div>
            <div class="modal-actions">
                <button id="approveRegistration" class="btn-success">Approve</button>
                <button id="rejectRegistration" class="btn-danger">Reject</button>
                <button id="editRegistration" class="btn-secondary">Edit</button>
            </div>
        </div>
    </div>

    <!-- Message Detail Modal -->
    <div id="messageModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>Message Details</h3>
            <div id="messageDetails">
                <!-- Message details will be loaded here -->
            </div>
            <div class="modal-actions">
                <button id="replyMessage" class="btn-primary">Reply</button>
                <button id="markAsRead" class="btn-secondary">Mark as Read</button>
                <button id="deleteMessage" class="btn-danger">Delete</button>
            </div>
        </div>
    </div>

    <!-- Reply Modal -->
    <div id="replyModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>Reply to Message</h3>
            <form id="replyForm">
                <div class="form-group">
                    <label for="replySubject">Subject</label>
                    <input type="text" id="replySubject" name="subject" required>
                </div>
                <div class="form-group">
                    <label for="replyMessage">Message</label>
                    <textarea id="replyMessage" name="message" rows="6" required></textarea>
                </div>
                <div class="modal-actions">
                    <button type="submit" class="btn-primary">Send Reply</button>
                    <button type="button" class="btn-secondary" onclick="closeReplyModal()">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html> 