<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESI Admin Dashboard - Erudite Scholars Initiative</title>
    <meta name="description" content="Admin dashboard for managing ESI competitions, registrations, and content">
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

   <!-- Header & Navigation -->
<header class="header">
    <nav class="navbar" aria-label="Main Navigation">
        <!-- <div class="container nav-container"> -->
            <!-- Brand/Logo -->
         
            
            <!-- Mobile Menu Toggle -->
            <button class="mobile-menu-toggle" aria-label="Toggle navigation" aria-expanded="false">
                <i class="fas fa-bars"></i>
            </button>
            
            <!-- Navigation Menu -->
            <ul class="nav-menu">
                   <div class="nav-brand">
                <h1 class="nav-logo">ESI Admin</h1>
                <span class="logo-subtitle">Erudite Scholars Initiative</span>
                   </div>

                <li class="nav-item">
                    <a href="index.html" class="nav-link" aria-label="Back to main site">
                        <!-- <i class="fas fa-external-link-alt"></i> -->
                        <span>Back to Site</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#dashboard" class="nav-link active">
                        <!-- <i class="fas fa-tachometer-alt"></i> -->
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#registrations" class="nav-link">
                        <!-- <i class="fas fa-users"></i> -->
                        <span>Registrations</span>
                        <span class="nav-notification" id="regNotification" style="display: none;">0</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#messages" class="nav-link">
                        <!-- <i class="fas fa-envelope"></i> -->
                        <span>Messages</span>
                        <span class="nav-notification" id="msgNotification" style="display: none;">0</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#competitions" class="nav-link">
                        <!-- <i class="fas fa-trophy"></i> -->
                        <span>Competitions</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#activities-management" class="nav-link">
                        <!-- <i class="fas fa-tasks"></i> -->
                        <span>Activities</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#home-management" class="nav-link">
                        <!-- <i class="fas fa-home"></i> -->
                        <span>Home</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#gallery-management" class="nav-link">
                        <!-- <i class="fas fa-images"></i> -->
                        <span>Gallery</span>
                    </a>
                </li>
                
                <!-- User Section with Logout -->
                <div class="nav-user-section">
                    <!-- <div class="user-info">
                        <span class="user-welcome">Welcome back,</span>
                        <span class="user-name" id="adminUsername">Admin</span>
                    </div> -->
                    <!-- <li class="nav-item">
                        <button class="nav-link logout-link" onclick="logout()" aria-label="Logout">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Logout</span>
                        </button>
                    </li> -->
                </div>
            </ul>
        <!-- </div> -->
    </nav>
</header>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Dashboard Section -->
        <!-- Dashboard Section -->
<section id="dashboard" class="dashboard section">
    <div class="container">
        <div class="dashboard-header">
            <h2>ESI Admin Dashboard</h2>
            <p>Welcome back, <span id="adminUsernameLarge" aria-live="polite">Admin</span>!</p>
            <p class="dashboard-subtitle">Here's an overview of your event activities</p>
            
            <!-- Status Indicators -->
            <div class="header-status">
                <div class="status-item">
                    <i class="fas fa-users"></i>
                    <div class="status-text">
                        <span class="status-label">Total Registrations</span>
                        <span class="status-value" id="totalRegistrationsLarge">0</span>
                    </div>
                </div>
                <div class="status-item">
                    <i class="fas fa-envelope"></i>
                    <div class="status-text">
                        <span class="status-label">New Messages</span>
                        <span class="status-value" id="totalMessagesLarge">0</span>
                    </div>
                </div>
                <div class="status-item">
                    <i class="fas fa-school"></i>
                    <div class="status-text">
                        <span class="status-label">Participating Schools</span>
                        <span class="status-value" id="totalSchoolsLarge">0</span>
                    </div>
                </div>
                <div class="status-item">
                    <i class="fas fa-calendar-check"></i>
                    <div class="status-text">
                        <span class="status-label">Days Until Event</span>
                        <span class="status-value" id="daysUntilEventLarge">0</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Rest of your dashboard content remains the same -->
        <div class="dashboard-stats">
            <!-- Your existing stat cards -->
        </div>
        
        <section class="dashboard-quick-actions" aria-labelledby="quick-actions-heading">
            <!-- Your existing quick actions -->
        </section>
    </div>
</section>

        <!-- Registrations Management Section -->
        <section id="registrations" class="registrations-management section">
            <div class="container">
                <div class="section-header">
                    <h2>Manage Registrations</h2>
                    <button onclick="refreshRegistrations()" class="btn btn-secondary" aria-label="Refresh registrations">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                </div>
                
                <div class="registrations-filters">
                    <div class="filter-group">
                        <label for="categoryFilter">Filter by Category:</label>
                        <select id="categoryFilter" onchange="filterRegistrations()" aria-label="Filter registrations by category">
                            <option value="">All Categories</option>
                            <option value="debate">Debate</option>
                            <option value="poetry">Poetry</option>
                            <option value="public-speech">Public Speech</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="schoolFilter">Filter by School:</label>
                        <select id="schoolFilter" onchange="filterRegistrations()" aria-label="Filter registrations by school">
                            <option value="">All Schools</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="statusFilter">Filter by Status:</label>
                        <select id="statusFilter" onchange="filterRegistrations()" aria-label="Filter registrations by status">
                            <option value="">All Status</option>
                            <option value="pending">Pending</option>
                            <option value="approved">Approved</option>
                            <option value="rejected">Rejected</option>
                        </select>
                    </div>
                    <div class="search-group">
                        <input type="text" id="searchRegistrations" placeholder="Search registrations..." 
                               onkeyup="searchRegistrations()" aria-label="Search registrations">
                        <i class="fas fa-search" aria-hidden="true"></i>
                    </div>
                </div>

                <div class="registrations-table-container">
                    <table class="registrations-table" aria-label="Registrations list">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Participant</th>
                                <th>School</th>
                                <th>Category</th>
                                <th>Email</th>
                                <th>Status</th>
                                <th>Registration Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="registrationsTableBody">
                            <!-- Registrations will be loaded here -->
                        </tbody>
                    </table>
                </div>

                <div class="registrations-pagination">
                    <button id="prevPage" onclick="changePage(-1)" aria-label="Previous page" disabled>Previous</button>
                    <span id="pageInfo" aria-live="polite">Page 1 of 1</span>
                    <button id="nextPage" onclick="changePage(1)" aria-label="Next page" disabled>Next</button>
                </div>
            </div>
        </section>

        <!-- Messages Section -->
        <section id="messages" class="messages-section section">
            <div class="container">
                <div class="section-header">
                    <h2>Contact Messages</h2>
                    <button onclick="refreshMessages()" class="btn btn-secondary" aria-label="Refresh messages">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                </div>
                
                <div class="messages-filters">
                    <div class="filter-group">
                        <label for="messageStatusFilter">Filter by Status:</label>
                        <select id="messageStatusFilter" onchange="filterMessages()" aria-label="Filter messages by status">
                            <option value="">All Messages</option>
                            <option value="unread">Unread</option>
                            <option value="read">Read</option>
                            <option value="replied">Replied</option>
                        </select>
                    </div>
                    <div class="search-group">
                        <input type="text" id="searchMessages" placeholder="Search messages..." 
                               onkeyup="searchMessages()" aria-label="Search messages">
                        <i class="fas fa-search" aria-hidden="true"></i>
                    </div>
                </div>

                <div id="messagesList" class="messages-list" aria-live="polite">
                    <!-- Messages will be loaded here -->
                </div>
            </div>
        </section>

        <!-- Competitions Management Section -->
        <section id="competitions" class="competitions-management section">
            <div class="container">
                <div class="section-header">
                    <h2>Manage Competitions</h2>
                </div>
                
                <div class="competitions-grid">
                    <section class="add-competition" aria-labelledby="add-competition-heading">
                        <h3 id="add-competition-heading">Add New Competition</h3>
                        <form id="addCompetitionForm" class="admin-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="compTitle">Title *</label>
                                    <input type="text" id="compTitle" name="title" required aria-required="true">
                                </div>
                                <div class="form-group">
                                    <label for="compCategory">Category *</label>
                                    <select id="compCategory" name="category" required aria-required="true">
                                        <option value="">Select Category</option>
                                        <option value="debate">Debate</option>
                                        <option value="poetry">Poetry</option>
                                        <option value="public-speech">Public Speech</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="compDescription">Description *</label>
                                <textarea id="compDescription" name="description" rows="4" required aria-required="true"></textarea>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="compDeadline">Deadline *</label>
                                    <input type="date" id="compDeadline" name="deadline" required aria-required="true">
                                </div>
                                <div class="form-group">
                                    <label for="compMaxParticipants">Max Participants</label>
                                    <input type="number" id="compMaxParticipants" name="maxParticipants" min="1">
                                </div>
                            </div>
                            
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-plus"></i> Add Competition
                            </button>
                        </form>
                    </section>

                    <section class="competitions-list" aria-labelledby="current-competitions-heading">
                        <h3 id="current-competitions-heading">Current Competitions</h3>
                        <div id="adminCompetitionsList" class="competitions-grid-view">
                            <!-- Competitions will be loaded here -->
                        </div>
                    </section>
                </div>
            </div>
        </section>

        <!-- Home Section Management -->
        <section id="home-management" class="home-management section">
            <div class="container">
                <div class="section-header">
                    <h2>Home Section Management</h2>
                    <p>Manage the hero section content that appears on the welcome page.</p>
                </div>
                
                <div class="home-editor">
                    <div class="editor-tabs">
                        <button class="tab-btn active" onclick="switchHomeTab('basic')">Basic Info</button>
                        <button class="tab-btn" onclick="switchHomeTab('countdown')">Countdown Settings</button>
                        <button class="tab-btn" onclick="switchHomeTab('preview')">Preview</button>
                    </div>
                    
                    <!-- Basic Info Tab -->
                    <div id="basic-tab" class="tab-content active">
                        <form id="basicInfoForm" class="admin-form">
                            <h3>Basic Information</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="heroBadge">Hero Badge:</label>
                                    <input type="text" id="heroBadge" placeholder="e.g., ESI 2025">
                                </div>
                                <div class="form-group">
                                    <label for="heroTitle">Hero Title:</label>
                                    <input type="text" id="heroTitle" placeholder="e.g., Equality Beyond Gender Roles" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="heroSubtitle">Hero Subtitle:</label>
                                <input type="text" id="heroSubtitle" 
                                       placeholder="e.g., A Gender Equality Debate, Poetry, and Public Speech Competition">
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="eventDate">Event Date:</label>
                                    <input type="date" id="eventDate" required>
                                </div>
                                <div class="form-group">
                                    <label for="eventVenue">Event Venue:</label>
                                    <input type="text" id="eventVenue" placeholder="e.g., Mbogo Mixed Secondary School" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="eventAudience">Event Audience:</label>
                                <input type="text" id="eventAudience" placeholder="e.g., Open to All Schools">
                            </div>
                            
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> Save Basic Information
                            </button>
                        </form>
                    </div>
                    
                    <!-- Countdown Settings Tab -->
                    <div id="countdown-tab" class="tab-content">
                        <form id="countdownForm" class="admin-form">
                            <h3>Countdown Timer Settings</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="countdownDate">Countdown Target Date:</label>
                                    <input type="datetime-local" id="countdownDate">
                                </div>
                                <div class="form-group">
                                    <label for="countdownTime">Countdown Target Time:</label>
                                    <input type="time" id="countdownTime">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="countdownMessage">Event Passed Message:</label>
                                <input type="text" id="countdownMessage" placeholder="e.g., Date has arrived!">
                            </div>
                            
                            <div class="countdown-preview">
                                <h4>Countdown Preview:</h4>
                                <div class="preview-countdown" id="previewCountdown">
                                    <div class="countdown-item">
                                        <span id="previewDays">00</span>
                                        <label>Days</label>
                                    </div>
                                    <div class="countdown-item">
                                        <span id="previewHours">00</span>
                                        <label>Hours</label>
                                    </div>
                                    <div class="countdown-item">
                                        <span id="previewMinutes">00</span>
                                        <label>Minutes</label>
                                    </div>
                                    <div class="countdown-item">
                                        <span id="previewSeconds">00</span>
                                        <label>Seconds</label>
                                    </div>
                                </div>
                            </div>
                            
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> Save Countdown Settings
                            </button>
                        </form>
                    </div>
                    
                    <!-- Preview Tab -->
                    <div id="preview-tab" class="tab-content">
                        <h3>Live Preview</h3>
                        <div class="preview-container">
                            <div class="hero-preview">
                                <div class="hero-badge" id="previewBadge">ESI 2025</div>
                                <h1 id="previewTitle">Equality Beyond Gender Roles</h1>
                                <h2 id="previewSubtitle">A Gender Equality Debate, Poetry, and Public Speech Competition</h2>
                                <div class="hero-details">
                                    <div class="hero-detail">
                                        <i class="fas fa-calendar-alt"></i>
                                        <span id="previewDate">Select event date</span>
                                    </div>
                                    <div class="hero-detail">
                                        <i class="fas fa-map-marker-alt"></i>
                                        <span id="previewVenue">Mbogo Mixed Secondary School</span>
                                    </div>
                                    <div class="hero-detail">
                                        <i class="fas fa-users"></i>
                                        <span id="previewAudience">Open to All Schools</span>
                                    </div>
                                </div>
                                <div class="countdown-timer" id="previewCountdownTimer">
                                    <div class="countdown-item">
                                        <span id="previewCountdownDays">00</span>
                                        <label>Days</label>
                                    </div>
                                    <div class="countdown-item">
                                        <span id="previewCountdownHours">00</span>
                                        <label>Hours</label>
                                    </div>
                                    <div class="countdown-item">
                                        <span id="previewCountdownMinutes">00</span>
                                        <label>Minutes</label>
                                    </div>
                                    <div class="countdown-item">
                                        <span id="previewCountdownSeconds">00</span>
                                        <label>Seconds</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button class="btn btn-secondary" onclick="updatePreview()">
                            <i class="fas fa-refresh"></i> Refresh Preview
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Activities Management Section -->
        <section id="activities-management" class="activities-management section">
            <div class="container">
                <div class="section-header">
                    <h2>Activities Management</h2>
                    <p>Manage the Activities section content that appears on the welcome page.</p>
                </div>
                
                <div class="activities-editor">
                    <div class="editor-tabs">
                        <button class="tab-btn active" onclick="switchActivitiesTab('background')">Background & Theme</button>
                        <button class="tab-btn" onclick="switchActivitiesTab('objectives')">Objectives</button>
                        <button class="tab-btn" onclick="switchActivitiesTab('rules')">Competition Rules</button>
                        <button class="tab-btn" onclick="switchActivitiesTab('schedule')">Program Schedule</button>
                    </div>
                    
                    <!-- Background & Theme Tab -->
                    <div id="background-tab" class="tab-content active">
                        <form id="backgroundForm" class="admin-form">
                            <h3>Background & Theme</h3>
                            <div class="form-group">
                                <label for="backgroundContent">Background & Theme Content:</label>
                                <textarea id="backgroundContent" rows="8" placeholder="Enter the background and theme content..."></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> Save Background & Theme
                            </button>
                        </form>
                    </div>
                    
                    <!-- Objectives Tab -->
                    <div id="objectives-tab" class="tab-content">
                        <form id="objectivesForm" class="admin-form">
                            <h3>Objectives</h3>
                            <div class="objectives-list">
                                <div id="objectivesContainer">
                                    <!-- Objectives will be loaded here -->
                                </div>
                                <button type="button" class="btn btn-secondary" onclick="addObjective()">
                                    <i class="fas fa-plus"></i> Add Objective
                                </button>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> Save Objectives
                            </button>
                        </form>
                    </div>
                    
                    <!-- Competition Rules Tab -->
                    <div id="rules-tab" class="tab-content">
                        <form id="rulesForm" class="admin-form">
                            <h3>Competition Rules & Judging Criteria</h3>
                            <div class="rules-editor">
                                <div class="rule-category">
                                    <h4>Debate Rules</h4>
                                    <div class="form-group">
                                        <label>Debate Rules (one per line):</label>
                                        <textarea id="debateRules" rows="6" placeholder="Enter debate rules, one per line..."></textarea>
                                    </div>
                                </div>
                                <div class="rule-category">
                                    <h4>Poetry Rules</h4>
                                    <div class="form-group">
                                        <label>Poetry Rules (one per line):</label>
                                        <textarea id="poetryRules" rows="6" placeholder="Enter poetry rules, one per line..."></textarea>
                                    </div>
                                </div>
                                <div class="rule-category">
                                    <h4>Public Speech Rules</h4>
                                    <div class="form-group">
                                        <label>Public Speech Rules (one per line):</label>
                                        <textarea id="speechRules" rows="6" placeholder="Enter public speech rules, one per line..."></textarea>
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> Save Competition Rules
                            </button>
                        </form>
                    </div>
                    
                    <!-- Program Schedule Tab -->
                    <div id="schedule-tab" class="tab-content">
                        <form id="scheduleForm" class="admin-form">
                            <h3>Program Schedule</h3>
                            <div class="schedule-editor">
                                <div id="scheduleContainer">
                                    <!-- Schedule items will be loaded here -->
                                </div>
                                <button type="button" class="btn btn-secondary" onclick="addScheduleItem()">
                                    <i class="fas fa-plus"></i> Add Schedule Item
                                </button>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> Save Program Schedule
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- Gallery Management Section -->
        <section id="gallery-management" class="gallery-management section">
            <div class="container">
                <div class="section-header">
                    <h2>Gallery Management</h2>
                    <p>Manage photos, videos, and press coverage for your gallery.</p>
                </div>
                
                <div class="gallery-management-tabs">
                    <button class="gallery-tab-btn active" data-gallery-tab="photos">Photos</button>
                    <button class="gallery-tab-btn" data-gallery-tab="videos">Videos</button>
                    <button class="gallery-tab-btn" data-gallery-tab="press">Press Coverage</button>
                </div>
                
                <!-- Photos Management -->
                <div class="gallery-tab-content active" id="photos-management">
                    <div class="add-gallery-item">
                        <h3>Add New Photos</h3>
                        <form id="addPhotoForm" class="admin-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="photoTitle">Photo Title *</label>
                                    <input type="text" id="photoTitle" name="title" required>
                                </div>
                                <div class="form-group">
                                    <label for="photoCategory">Category</label>
                                    <select id="photoCategory" name="category">
                                        <option value="winners">Past Competition Winners</option>
                                        <option value="highlights">Event Highlights</option>
                                        <option value="outreach">Outreach Programs</option>
                                        <option value="community">Community Engagement</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="photoDescription">Description</label>
                                <textarea id="photoDescription" name="description" rows="3" placeholder="Brief description of the photo"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="photoImage">Photo Files *</label>
                                <div class="file-upload-area">
                                    <input type="file" id="photoImage" name="image" accept="image/*" class="file-input" multiple required>
                                    <div class="file-upload-info">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                        <p>Click to upload or drag and drop</p>
                                        <small>Upload up to 4 photos at once (JPG, PNG, GIF - Max 5MB each)</small>
                                    </div>
                                </div>
                                <div id="photoPreview" class="image-preview" style="display: none;">
                                    <div id="photoPreviewGrid" class="image-preview-grid"></div>
                                    <button type="button" class="btn btn-danger btn-small" onclick="removePhotoPreview()">
                                        <i class="fas fa-times"></i> Remove All
                                    </button>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary" id="addPhotoBtn">
                                <i class="fas fa-plus"></i> Add Photos
                            </button>
                        </form>
                    </div>
                    
                    <div class="gallery-items-list">
                        <div class="section-header">
                            <h3>Current Photos</h3>
                            <span class="photo-count" id="photoCount">0 photos</span>
                        </div>
                        <div id="photosList" class="gallery-items-grid">
                            <!-- Photos will be loaded here -->
                        </div>
                    </div>
                </div>
                
                <!-- Videos Management -->
                <div class="gallery-tab-content" id="videos-management">
                    <div class="add-gallery-item">
                        <h3>Add New Video</h3>
                        <form id="addVideoForm" class="admin-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="videoTitle">Video Title *</label>
                                    <input type="text" id="videoTitle" name="title" required>
                                </div>
                                <div class="form-group">
                                    <label for="videoCategory">Category</label>
                                    <select id="videoCategory" name="category">
                                        <option value="highlights">Competition Highlights</option>
                                        <option value="testimonials">Student Testimonials</option>
                                        <option value="events">Event Recordings</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="videoDescription">Description</label>
                                <textarea id="videoDescription" name="description" rows="3" placeholder="Brief description of the video"></textarea>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="videoFile">Video File *</label>
                                    <div class="file-upload-area">
                                        <input type="file" id="videoFile" name="video" accept="video/*" class="file-input" required>
                                        <div class="file-upload-info">
                                            <i class="fas fa-cloud-upload-alt"></i>
                                            <p>Click to upload video</p>
                                            <small>Upload a video (MP4, AVI, MOV - Max 50MB)</small>
                                        </div>
                                    </div>
                                    <div id="videoPreview" class="file-preview" style="display: none;">
                                        <div id="videoPreviewInfo" class="file-info"></div>
                                        <button type="button" class="btn btn-danger btn-small" onclick="removeVideoPreview()">
                                            <i class="fas fa-times"></i> Remove
                                        </button>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="videoThumbnail">Thumbnail Image</label>
                                    <div class="file-upload-area">
                                        <input type="file" id="videoThumbnail" name="thumbnail" accept="image/*" class="file-input">
                                        <div class="file-upload-info">
                                            <i class="fas fa-cloud-upload-alt"></i>
                                            <p>Click to upload thumbnail</p>
                                            <small>Upload a thumbnail (JPG, PNG - Max 2MB)</small>
                                        </div>
                                    </div>
                                    <div id="thumbnailPreview" class="image-preview" style="display: none;">
                                        <img id="previewThumbnailImg" src="" alt="Thumbnail preview">
                                        <button type="button" class="btn btn-danger btn-small" onclick="removeThumbnailPreview()">
                                            <i class="fas fa-times"></i> Remove
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-plus"></i> Add Video
                            </button>
                        </form>
                    </div>
                    
                    <div class="gallery-items-list">
                        <div class="section-header">
                            <h3>Current Videos</h3>
                            <span class="video-count" id="videoCount">0 videos</span>
                        </div>
                        <div id="videosList" class="gallery-items-grid">
                            <!-- Videos will be loaded here -->
                        </div>
                    </div>
                </div>
                
                <!-- Press Coverage Management -->
                <div class="gallery-tab-content" id="press-management">
                    <div class="add-gallery-item">
                        <h3>Add New Press Coverage</h3>
                        <form id="addPressForm" class="admin-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="pressTitle">Press Title *</label>
                                    <input type="text" id="pressTitle" name="title" required>
                                </div>
                                <div class="form-group">
                                    <label for="pressType">Media Type</label>
                                    <select id="pressType" name="type">
                                        <option value="newspaper">Newspaper</option>
                                        <option value="radio">Radio</option>
                                        <option value="tv">Television</option>
                                        <option value="online">Online Media</option>
                                        <option value="magazine">Magazine</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="pressDescription">Description</label>
                                <textarea id="pressDescription" name="description" rows="3" placeholder="Brief description of the press coverage"></textarea>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="pressDate">Publication Date</label>
                                    <input type="date" id="pressDate" name="date">
                                </div>
                                <div class="form-group">
                                    <label for="pressLink">Media Link</label>
                                    <input type="url" id="pressLink" name="link" placeholder="https://...">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="pressImage">Cover Image</label>
                                <div class="file-upload-area">
                                    <input type="file" id="pressImage" name="image" accept="image/*" class="file-input">
                                    <div class="file-upload-info">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                        <p>Click to upload cover image</p>
                                        <small>Upload a cover image (JPG, PNG - Max 3MB)</small>
                                    </div>
                                </div>
                                <div id="pressImagePreview" class="image-preview" style="display: none;">
                                    <img id="previewPressImg" src="" alt="Press image preview">
                                    <button type="button" class="btn btn-danger btn-small" onclick="removePressImagePreview()">
                                        <i class="fas fa-times"></i> Remove
                                    </button>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-plus"></i> Add Press Coverage
                            </button>
                        </form>
                    </div>
                    
                    <div class="gallery-items-list">
                        <div class="section-header">
                            <h3>Current Press Coverage</h3>
                            <span class="press-count" id="pressCount">0 items</span>
                        </div>
                        <div id="pressList" class="gallery-items-grid">
                            <!-- Press coverage will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Erudite Scholars Initiative. All rights reserved.</p>
            <p class="footer-info">Admin Dashboard v1.0.0</p>
        </div>
    </footer>

    <!-- Modals -->
    <div id="deleteModal" class="modal" role="dialog" aria-labelledby="deleteModalTitle" aria-hidden="true">
        <div class="modal-content">
            <h3 id="deleteModalTitle">Confirm Delete</h3>
            <p id="deleteModalMessage">Are you sure you want to delete this item?</p>
            <div class="modal-buttons">
                <button id="confirmDelete" class="btn btn-danger">Delete</button>
                <button id="cancelDelete" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Registration Detail Modal -->
    <div id="registrationModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>Registration Details</h3>
            <div id="registrationDetails">
                <!-- Registration details will be loaded here -->
            </div>
            <div class="modal-actions">
                <button id="approveRegistration" class="btn btn-success">Approve</button>
                <button id="rejectRegistration" class="btn btn-danger">Reject</button>
                <button id="editRegistration" class="btn btn-secondary">Edit</button>
            </div>
        </div>
    </div>

    <!-- Message Detail Modal -->
    <div id="messageModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>Message Details</h3>
            <div id="messageDetails">
                <!-- Message details will be loaded here -->
            </div>
            <div class="modal-actions">
                <button id="replyMessage" class="btn btn-primary">Reply</button>
                <button id="markAsRead" class="btn btn-secondary">Mark as Read</button>
                <button id="deleteMessage" class="btn btn-danger">Delete</button>
            </div>
        </div>
    </div>

    <!-- Reply Modal -->
    <div id="replyModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>Reply to Message</h3>
            <form id="replyForm">
                <div class="form-group">
                    <label for="replySubject">Subject</label>
                    <input type="text" id="replySubject" name="subject" required>
                </div>
                <div class="form-group">
                    <label for="replyMessage">Message</label>
                    <textarea id="replyMessage" name="message" rows="6" required></textarea>
                </div>
                <div class="modal-actions">
                    <button type="submit" class="btn btn-primary">Send Reply</button>
                    <button type="button" class="btn btn-secondary" onclick="closeReplyModal()">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading" class="loading-overlay" style="display: none;">
        <div class="loading-spinner"></div>
        <p>Loading...</p>
    </div>

    <script src="admin.js"></script>
    <script>
      // Enhanced Mobile Menu Functionality
    document.addEventListener('DOMContentLoaded', function() {
        const mobileToggle = document.querySelector('.mobile-menu-toggle');
        const navMenu = document.querySelector('.nav-menu');
        
        if (mobileToggle && navMenu) {
            // Toggle mobile menu
            mobileToggle.addEventListener('click', function(e) {
                e.stopPropagation();
                const isExpanded = this.getAttribute('aria-expanded') === 'true';
                this.setAttribute('aria-expanded', !isExpanded);
                navMenu.classList.toggle('show');
                
                // Update icon with animation
                const icon = this.querySelector('i');
                if (icon) {
                    icon.style.transition = 'transform 0.3s ease';
                    if (isExpanded) {
                        icon.className = 'fas fa-bars';
                        icon.style.transform = 'rotate(0deg)';
                    } else {
                        icon.className = 'fas fa-times';
                        icon.style.transform = 'rotate(90deg)';
                    }
                }
            });
            
            // Close mobile menu when clicking outside
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.navbar') && navMenu.classList.contains('show')) {
                    closeMobileMenu();
                }
            });
            
            // Close mobile menu when pressing Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && navMenu.classList.contains('show')) {
                    closeMobileMenu();
                }
            });
            
            // Close mobile menu when clicking a link
            navMenu.addEventListener('click', function(e) {
                if (e.target.tagName === 'A' || e.target.closest('a')) {
                    setTimeout(closeMobileMenu, 300); // Small delay for smooth transition
                }
            });
            
            function closeMobileMenu() {
                navMenu.classList.remove('show');
                mobileToggle.setAttribute('aria-expanded', 'false');
                const icon = mobileToggle.querySelector('i');
                if (icon) {
                    icon.className = 'fas fa-bars';
                    icon.style.transform = 'rotate(0deg)';
                }
            }
        }
        
        // Set active nav link based on scroll position
        const sections = document.querySelectorAll('section[id]');
        const navLinks = document.querySelectorAll('.nav-link');
        
        function setActiveNavLink() {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 120;
                const sectionHeight = section.clientHeight;
                if (scrollY >= sectionTop && scrollY < sectionTop + sectionHeight) {
                    current = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                const href = link.getAttribute('href');
                if (href === `#${current}` || (current === 'dashboard' && href === '#dashboard')) {
                    link.classList.add('active');
                }
            });
        }
        
        // Set active link on load
        setActiveNavLink();
        
        // Update active link on scroll
        window.addEventListener('scroll', setActiveNavLink);
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                const targetId = this.getAttribute('href');
                if (targetId === '#' || targetId === '#!') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    e.preventDefault();
                    
                    // Calculate offset based on header height
                    const headerHeight = document.querySelector('.header').offsetHeight;
                    const targetPosition = targetElement.offsetTop - headerHeight - 20;
                    
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                    
                    // Update URL hash without scrolling
                    history.pushState(null, null, targetId);
                }
            });
        });
        
        // Update header notifications on load
        setTimeout(() => {
            if (window.adminDashboard) {
                const registrations = JSON.parse(localStorage.getItem('esiRegistrations') || '[]');
                const messages = JSON.parse(localStorage.getItem('esiContactMessages') || '[]');
                const unreadCount = messages.filter(m => !m.read).length;
                window.adminDashboard.updateNavNotifications(registrations.length, unreadCount);
            }
        }, 1000);
    });
            
            // Initialize any forms that need special handling
            const forms = document.querySelectorAll('form');
            forms.forEach(form => {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    // Form handling will be done by admin.js
                    console.log('Form submitted:', this.id);
                });
            });
            
            // Gallery tab switching
            const galleryTabBtns = document.querySelectorAll('.gallery-tab-btn');
            galleryTabBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-gallery-tab');
                    
                    // Remove active class from all tabs and contents
                    galleryTabBtns.forEach(b => b.classList.remove('active'));
                    document.querySelectorAll('.gallery-tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    // Add active class to clicked tab
                    this.classList.add('active');
                    
                    // Show corresponding content
                    const targetContent = document.getElementById(`${targetTab}-management`);
                    if (targetContent) {
                        targetContent.classList.add('active');
                    }
                });
            });
            
            // Modal close functionality
            const closeButtons = document.querySelectorAll('.close, .modal');
            closeButtons.forEach(element => {
                if (element.classList.contains('close')) {
                    element.addEventListener('click', function() {
                        document.querySelectorAll('.modal').forEach(modal => {
                            modal.style.display = 'none';
                        });
                    });
                } else {
                    element.addEventListener('click', function(e) {
                        if (e.target === this) {
                            this.style.display = 'none';
                        }
                    });
                }
            });
    </script>
</body>
</html>